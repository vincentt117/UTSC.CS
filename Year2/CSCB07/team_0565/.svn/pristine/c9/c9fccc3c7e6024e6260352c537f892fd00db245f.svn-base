package cs.b07.cscb07courseproject;

import android.content.Intent;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.EditText;
import java.io.File;
import backend.Driver;


/**
 * Created by mandy on 2016-11-28.
 */


public class AdminHomepage extends AppCompatActivity {

    public static final String FLIGHT_FILE_NAME = "flights4.txt";
    public static final String FLIGHT_DB = "flight_db";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.admin_homepage);

//        // get absolute path
//        File flightsFile = new File(this.getApplicationContext().getFilesDir(), FLIGHT_FILE_NAME);
//        // convert flightsFile into string
//        String FlightsFilePath = flightsFile.getPath();
    }

    public void onClickEditClientInfo(View v) {
        Intent intentEditClientProfile = new Intent(this, AdminEditClientInfo.class);
        startActivity(intentEditClientProfile);
    }

    public void onClickViewClientsItineraries(View v) {
        Intent intentViewClientItineraries = new Intent(this, AdminDisplaySearchedFlights.class);
        startActivity(intentViewClientItineraries);
    }

    public void onClickAdminSearchFlights(View v) {
        Intent intentAdminSearchFlights = new Intent(this, AdminSearchFlights.class);
        startActivity(intentAdminSearchFlights);
    }

    public void onClickEditFlights(View v) {
        Intent intentEditFlights = new Intent(this, AdminEditFlights.class);
        startActivity(intentEditFlights);
    }

    public void onClickLoadClientFile(View v) {
//        Intent intentLogout = new Intent(this, Login.class);
//        startActivity(intentLogout);
    }
    public void onClickLoadFlightFile(View v) {
        EditText flightFileName = (EditText) findViewById(R.id.et_flight_file);
        String fileNameText = flightFileName.getText().toString();

        // get absolute path of file
        File flightsFile = new File(this.getApplicationContext().getFilesDir(), fileNameText);
        // convert flightsFile into string
        String FlightsFilePath = flightsFile.getPath();

        Driver.uploadFlightInfo(FlightsFilePath);

        Intent intentDisplayFlightDB = new Intent(this, AdminDisplayFlightDB.class);
        intentDisplayFlightDB.putExtra(FLIGHT_DB, Driver.flightDatabase);
        startActivity(intentDisplayFlightDB);
    }

    public void onClickLoadAdminLogOut(View v) {
        Intent intentAdminLogout = new Intent(this, AdminLogout.class);
        startActivity(intentAdminLogout);
    }
}

